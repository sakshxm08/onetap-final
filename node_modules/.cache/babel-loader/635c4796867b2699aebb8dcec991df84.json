{"ast":null,"code":"import _slicedToArray from\"/Users/sakshamgambhir/Downloads/olx-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Fragment,useState,useContext}from\"react\";import\"./Create.css\";import Header from\"../Header/Header\";import{Firebase}from\"../../firebase/config\";import{AuthContext}from\"../../contextStore/AuthContext\";import{useHistory}from\"react-router\";import GoLoading from\"../Loading/GoLoading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Create=function Create(){var _useContext=useContext(AuthContext),user=_useContext.user;var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),category=_useState4[0],setCategory=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),price=_useState6[0],setPrice=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),description=_useState8[0],setDescription=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),image=_useState10[0],setImage=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),location=_useState12[0],setLocation=_useState12[1];var _useState13=useState(false),_useState14=_slicedToArray(_useState13,2),loading=_useState14[0],setLoading=_useState14[1];var handleSubmit=function handleSubmit(){setLoading(true);var date=new Date().toDateString();Firebase.storage().ref(\"/image/\".concat(image.name)).put(image).then(function(_ref){var ref=_ref.ref;ref.getDownloadURL().then(function(url){Firebase.firestore().collection(\"products\").add({name:name,category:category,price:price,description:description,url:url,location:location,userId:user.uid,createdAt:date}).then(function(){console.log(\"Uploaded\");setLoading(false);history.push(\"/\");});});});};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),loading&&/*#__PURE__*/_jsx(GoLoading,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"centerDiv\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",name:\"Name\",value:name,onChange:function onChange(e){setName(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Category:\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"Category\",onChange:function onChange(e){setCategory(e.target.value);},className:\"input\",children:[\" \",/*#__PURE__*/_jsx(\"option\",{children:\"Select Category\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Auditorium\",children:\"Auditorium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Gym\",children:\"Gym\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Swimming Pool\",children:\"Swimming Pool\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Cafe\",children:\"Cafe\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Open Grounds\",children:\"Open Grounds\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Lounges\",children:\"Lounges\"})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"number\",name:\"Price\",value:price,onChange:function onChange(e){setPrice(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",name:\"Description\",value:description,onChange:function onChange(e){setDescription(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Location\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",name:\"Description\",value:location,onChange:function onChange(e){setLocation(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"img\",{alt:\"Posts\",width:\"200px\",height:\"200px\",src:image?URL.createObjectURL(image):\"\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:function onChange(e){setImage(e.target.files[0]);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{className:\"uploadBtn\",onClick:handleSubmit,children:\"Upload and Submit\"})]})]});};export default Create;","map":{"version":3,"names":["React","Fragment","useState","useContext","Header","Firebase","AuthContext","useHistory","GoLoading","Create","user","history","name","setName","category","setCategory","price","setPrice","description","setDescription","image","setImage","location","setLocation","loading","setLoading","handleSubmit","date","Date","toDateString","storage","ref","put","then","getDownloadURL","url","firestore","collection","add","userId","uid","createdAt","console","log","push","e","target","value","URL","createObjectURL","files"],"sources":["/Users/sakshamgambhir/Downloads/olx-main/src/Components/Create/Create.js"],"sourcesContent":["import React, { Fragment, useState, useContext } from \"react\";\nimport \"./Create.css\";\nimport Header from \"../Header/Header\";\nimport { Firebase } from \"../../firebase/config\";\nimport { AuthContext } from \"../../contextStore/AuthContext\";\nimport { useHistory } from \"react-router\";\nimport GoLoading from \"../Loading/GoLoading\";\nconst Create = () => {\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n  let [name, setName] = useState(\"\");\n  let [category, setCategory] = useState(\"\");\n  let [price, setPrice] = useState(\"\");\n  let [description, setDescription] = useState(\"\");\n  let [image, setImage] = useState();\n  let [location, setLocation] = useState(\"\");\n  let [loading, setLoading] = useState(false);\n  const handleSubmit = () => {\n    setLoading(true);\n    let date = new Date().toDateString();\n    Firebase.storage()\n      .ref(`/image/${image.name}`)\n      .put(image)\n      .then(({ ref }) => {\n        ref.getDownloadURL().then((url) => {\n          Firebase.firestore()\n            .collection(\"products\")\n            .add({\n              name,\n              category,\n              price,\n              description,\n              url,\n              location,\n              userId: user.uid,\n              createdAt: date,\n            })\n            .then(() => {\n              console.log(\"Uploaded\");\n              setLoading(false);\n              history.push(\"/\");\n            });\n        });\n      });\n  };\n  return (\n    <Fragment>\n      <Header />\n      {loading && <GoLoading />}\n      <div className=\"centerDiv\">\n        <label>Name</label>\n        <br />\n        <input\n          className=\"input\"\n          type=\"text\"\n          name=\"Name\"\n          value={name}\n          onChange={(e) => {\n            setName(e.target.value);\n          }}\n        />\n        <br />\n        <label>Category:</label>\n        <select\n          name=\"Category\"\n          onChange={(e) => {\n            setCategory(e.target.value);\n          }}\n          className=\"input\"\n        >\n          {\" \"}\n          <option>Select Category</option>\n          <option value=\"Auditorium\">Auditorium</option>\n          <option value=\"Gym\">Gym</option>\n          <option value=\"Swimming Pool\">Swimming Pool</option>\n          <option value=\"Cafe\">Cafe</option>\n          <option value=\"Open Grounds\">Open Grounds</option>\n          <option value=\"Lounges\">Lounges</option>\n        </select>\n        <br />\n        <label>Price</label>\n        <br />\n        <input\n          className=\"input\"\n          type=\"number\"\n          name=\"Price\"\n          value={price}\n          onChange={(e) => {\n            setPrice(e.target.value);\n          }}\n        />\n        <br />\n        <label>Description</label>\n        <br />\n        <input\n          className=\"input\"\n          type=\"text\"\n          name=\"Description\"\n          value={description}\n          onChange={(e) => {\n            setDescription(e.target.value);\n          }}\n        />\n        <br />\n        <label>Location</label>\n        <br />\n        <input\n          className=\"input\"\n          type=\"text\"\n          name=\"Description\"\n          value={location}\n          onChange={(e) => {\n            setLocation(e.target.value);\n          }}\n        />\n        <br />\n\n        <br />\n        <img\n          alt=\"Posts\"\n          width=\"200px\"\n          height=\"200px\"\n          src={image ? URL.createObjectURL(image) : \"\"}\n        ></img>\n\n        <br />\n        <input\n          type=\"file\"\n          onChange={(e) => {\n            setImage(e.target.files[0]);\n          }}\n        />\n        <br />\n        <button className=\"uploadBtn\" onClick={handleSubmit}>\n          Upload and Submit\n        </button>\n      </div>\n    </Fragment>\n  );\n};\n\nexport default Create;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}