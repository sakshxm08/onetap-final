{"ast":null,"code":"import _objectSpread from\"/Users/sakshamgambhir/Downloads/olx-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/sakshamgambhir/Downloads/olx-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{Link}from\"react-router-dom\";import\"./Post.css\";import{Firebase}from\"../../firebase/config\";import BarLoading from\"../Loading/BarLoading\";import PostCards from\"../PostCards/PostCards\";import{AllPostContext}from\"../../contextStore/AllPostContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Posts(){var _useContext=useContext(AllPostContext),setAllPost=_useContext.setAllPost;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),posts=_useState2[0],setPosts=_useState2[1];//for showing all posts in Descending order of date\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),posts2=_useState4[0],setPosts2=_useState4[1];//for showing all posts in Ascending order of date\nvar _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading2=_useState8[0],setLoading2=_useState8[1];useEffect(function(){setLoading(true);setLoading2(true);Firebase.firestore()//retreving all posts from firebase in descending order\n.collection(\"products\").orderBy(\"createdAt\",\"desc\").get().then(function(snapshot){var allPostsDescendingOder=snapshot.docs.map(function(product){return _objectSpread(_objectSpread({},product.data()),{},{id:product.id});});setPosts2(allPostsDescendingOder);//set to post\nsetAllPost(allPostsDescendingOder);setLoading(false);});Firebase.firestore()//retreving all posts from firebase in asecnding order of date\n.collection(\"products\").orderBy(\"createdAt\",\"asc\").get().then(function(snapshot){var allPostsAscendingOder=snapshot.docs.map(function(product){return _objectSpread(_objectSpread({},product.data()),{},{id:product.id});});setPosts(allPostsAscendingOder);setLoading2(false);});},[setAllPost]);// quickMenuCards assign all cards of post item later it will be displayed\nvar quickMenuCards=posts.map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"quick-menu-cards\",children:[\" \",/*#__PURE__*/_jsx(PostCards,{product:product,index:index}),\" \"]},index);});var freshRecomendationCards=posts2.map(function(product,index){if(index<4){return/*#__PURE__*/_jsxs(\"div\",{className:\"fresh-recomendation-card\",children:[\" \",/*#__PURE__*/_jsx(PostCards,{product:product,index:index}),\" \"]},index);}return null;});return/*#__PURE__*/_jsxs(\"div\",{className:\"postParentDiv\",children:[posts&&/*#__PURE__*/_jsxs(\"div\",{className:\"moreView\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Quick Menu\"}),/*#__PURE__*/_jsxs(Link,{to:\"./viewmore\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{children:\"View more\"}),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"cards\",children:[\" \",loading?/*#__PURE__*/_jsx(BarLoading,{}):quickMenuCards]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recommendations\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"heading\",id:\"recHeading\",children:/*#__PURE__*/_jsx(\"span\",{children:\"Top-Picks\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"fresh-recomendation-cards\",children:loading2?/*#__PURE__*/_jsx(BarLoading,{}):freshRecomendationCards})]})]});}export default Posts;","map":{"version":3,"names":["React","useState","useEffect","useContext","Link","Firebase","BarLoading","PostCards","AllPostContext","Posts","setAllPost","posts","setPosts","posts2","setPosts2","loading","setLoading","loading2","setLoading2","firestore","collection","orderBy","get","then","snapshot","allPostsDescendingOder","docs","map","product","data","id","allPostsAscendingOder","quickMenuCards","index","freshRecomendationCards"],"sources":["/Users/sakshamgambhir/Downloads/olx-main/src/Components/Posts/Posts.js"],"sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport \"./Post.css\";\nimport { Firebase } from \"../../firebase/config\";\nimport BarLoading from \"../Loading/BarLoading\";\nimport PostCards from \"../PostCards/PostCards\";\n\nimport { AllPostContext } from \"../../contextStore/AllPostContext\";\n\nfunction Posts() {\n  const { setAllPost } = useContext(AllPostContext);\n  let [posts, setPosts] = useState([]); //for showing all posts in Descending order of date\n  let [posts2, setPosts2] = useState([]); //for showing all posts in Ascending order of date\n  let [loading, setLoading] = useState(false);\n  let [loading2, setLoading2] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    setLoading2(true);\n    Firebase.firestore() //retreving all posts from firebase in descending order\n      .collection(\"products\")\n      .orderBy(\"createdAt\", \"desc\")\n      .get()\n      .then((snapshot) => {\n        let allPostsDescendingOder = snapshot.docs.map((product) => {\n          return {\n            ...product.data(),\n            id: product.id,\n          };\n        });\n\n        setPosts2(allPostsDescendingOder); //set to post\n        setAllPost(allPostsDescendingOder);\n        setLoading(false);\n      });\n    Firebase.firestore() //retreving all posts from firebase in asecnding order of date\n      .collection(\"products\")\n      .orderBy(\"createdAt\", \"asc\")\n      .get()\n      .then((snapshot) => {\n        let allPostsAscendingOder = snapshot.docs.map((product) => {\n          return {\n            ...product.data(),\n            id: product.id,\n          };\n        });\n        setPosts(allPostsAscendingOder);\n        setLoading2(false);\n      });\n  }, [setAllPost]);\n  // quickMenuCards assign all cards of post item later it will be displayed\n  let quickMenuCards = posts.map((product, index) => {\n    return (\n      <div className=\"quick-menu-cards\" key={index}>\n        {\" \"}\n        <PostCards product={product} index={index} />{\" \"}\n      </div>\n    );\n  });\n\n  let freshRecomendationCards = posts2.map((product, index) => {\n    if (index < 4) {\n      return (\n        <div className=\"fresh-recomendation-card\" key={index}>\n          {\" \"}\n          <PostCards product={product} index={index} />{\" \"}\n        </div>\n      );\n    }\n    return null;\n  });\n  return (\n    <div className=\"postParentDiv\">\n      {posts && (\n        <div className=\"moreView\">\n          <div className=\"heading\">\n            <span>Quick Menu</span>\n            <Link to=\"./viewmore\">\n              {\" \"}\n              <span>View more</span>{\" \"}\n            </Link>\n          </div>\n          <div className=\"cards\">\n            {\" \"}\n            {loading ? <BarLoading /> : quickMenuCards}\n          </div>\n        </div>\n      )}\n      <div className=\"recommendations\">\n        <div className=\"heading\" id=\"recHeading\">\n          <span>Top-Picks</span>\n        </div>\n        <div className=\"fresh-recomendation-cards\">\n          {loading2 ? <BarLoading /> : freshRecomendationCards}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Posts;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}