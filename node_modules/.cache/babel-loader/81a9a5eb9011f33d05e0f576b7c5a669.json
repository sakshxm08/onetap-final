{"ast":null,"code":"import _slicedToArray from\"/Users/sakshamgambhir/Downloads/olx-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import{useHistory}from\"react-router\";import{AllPostContext}from\"../../contextStore/AllPostContext\";import Pagination from\"../Pagination/Pagination\";import PostCards from\"../PostCards/PostCards\";import\"./allposts.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function AllPosts(){var _useContext=useContext(AllPostContext),allPost=_useContext.allPost;// let displayAllPosts = allPost.map((product, index) => {\n//   return (\n//     <div className=\"all-post-card\">\n//       {\" \"}\n//       <PostCards product={product} index={index} />{\" \"}\n//     </div>\n//   );\n// });\nvar length=allPost.length;//if user refresh the whole page context will be empty so we want to redirect the user to the home page\nvar history=useHistory();//pagination logic and implementation will start here\nvar _useState=useState(1),_useState2=_slicedToArray(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var itemsPerPage=8;var indexOfLastDish=currentPage*itemsPerPage;var indexOfFirstDish=indexOfLastDish-itemsPerPage;var showTheseItems=allPost.slice(indexOfFirstDish,indexOfLastDish);var displayThesePosts=showTheseItems.map(function(product,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"all-post-card\",children:[\" \",/*#__PURE__*/_jsx(PostCards,{product:product,index:index}),\" \"]},index);});return/*#__PURE__*/_jsx(_Fragment,{children:length!==0?/*#__PURE__*/_jsxs(\"div\",{className:\"display-all-parent\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"container-allpost\",children:displayThesePosts}),/*#__PURE__*/_jsx(Pagination,{setCurrentPage:setCurrentPage})]}):history.push(\"/\")});}export default AllPosts;","map":{"version":3,"names":["React","useContext","useState","useHistory","AllPostContext","Pagination","PostCards","AllPosts","allPost","length","history","currentPage","setCurrentPage","itemsPerPage","indexOfLastDish","indexOfFirstDish","showTheseItems","slice","displayThesePosts","map","product","index","push"],"sources":["/Users/sakshamgambhir/Downloads/olx-main/src/Components/ViewMoreAllPosts/AllPosts.js"],"sourcesContent":["import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router\";\nimport { AllPostContext } from \"../../contextStore/AllPostContext\";\nimport Pagination from \"../Pagination/Pagination\";\nimport PostCards from \"../PostCards/PostCards\";\nimport \"./allposts.css\";\nfunction AllPosts() {\n  const { allPost } = useContext(AllPostContext);\n  // let displayAllPosts = allPost.map((product, index) => {\n  //   return (\n  //     <div className=\"all-post-card\">\n  //       {\" \"}\n  //       <PostCards product={product} index={index} />{\" \"}\n  //     </div>\n  //   );\n  // });\n\n  let length = allPost.length; //if user refresh the whole page context will be empty so we want to redirect the user to the home page\n  const history = useHistory();\n\n  //pagination logic and implementation will start here\n  let [currentPage, setCurrentPage] = useState(1);\n  let itemsPerPage = 8;\n  let indexOfLastDish = currentPage * itemsPerPage;\n  let indexOfFirstDish = indexOfLastDish - itemsPerPage;\n  let showTheseItems = allPost.slice(indexOfFirstDish, indexOfLastDish);\n\n  let displayThesePosts = showTheseItems.map((product, index) => {\n    return (\n      <div className=\"all-post-card\" key={index}>\n        {\" \"}\n        <PostCards product={product} index={index} />{\" \"}\n      </div>\n    );\n  });\n  return (\n    <>\n      {length !== 0 ? (\n        <div className=\"display-all-parent\">\n          <div className=\"container-allpost\">{displayThesePosts}</div>\n          <Pagination setCurrentPage={setCurrentPage} />\n        </div>\n      ) : (\n        history.push(\"/\")\n      )}\n    </>\n  );\n}\n\nexport default AllPosts;\n"],"mappings":"+JAAA,MAAOA,MAAK,EAAIC,UAAU,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,cAAc,KAAQ,mCAAmC,CAClE,MAAOC,WAAU,KAAM,0BAA0B,CACjD,MAAOC,UAAS,KAAM,wBAAwB,CAC9C,MAAO,gBAAgB,CAAC,6IACxB,QAASC,SAAQ,EAAG,CAClB,gBAAoBN,UAAU,CAACG,cAAc,CAAC,CAAtCI,OAAO,aAAPA,OAAO,CACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,GAAIC,OAAM,CAAGD,OAAO,CAACC,MAAM,CAAE;AAC7B,GAAMC,QAAO,CAAGP,UAAU,EAAE,CAE5B;AACA,cAAoCD,QAAQ,CAAC,CAAC,CAAC,wCAA1CS,WAAW,eAAEC,cAAc,eAChC,GAAIC,aAAY,CAAG,CAAC,CACpB,GAAIC,gBAAe,CAAGH,WAAW,CAAGE,YAAY,CAChD,GAAIE,iBAAgB,CAAGD,eAAe,CAAGD,YAAY,CACrD,GAAIG,eAAc,CAAGR,OAAO,CAACS,KAAK,CAACF,gBAAgB,CAAED,eAAe,CAAC,CAErE,GAAII,kBAAiB,CAAGF,cAAc,CAACG,GAAG,CAAC,SAACC,OAAO,CAAEC,KAAK,CAAK,CAC7D,mBACE,aAAK,SAAS,CAAC,eAAe,WAC3B,GAAG,cACJ,KAAC,SAAS,EAAC,OAAO,CAAED,OAAQ,CAAC,KAAK,CAAEC,KAAM,EAAG,CAAC,GAAG,GAFfA,KAAK,CAGnC,CAEV,CAAC,CAAC,CACF,mBACE,yBACGZ,MAAM,GAAK,CAAC,cACX,aAAK,SAAS,CAAC,oBAAoB,wBACjC,YAAK,SAAS,CAAC,mBAAmB,UAAES,iBAAiB,EAAO,cAC5D,KAAC,UAAU,EAAC,cAAc,CAAEN,cAAe,EAAG,GAC1C,CAENF,OAAO,CAACY,IAAI,CAAC,GAAG,CACjB,EACA,CAEP,CAEA,cAAef,SAAQ"},"metadata":{},"sourceType":"module"}