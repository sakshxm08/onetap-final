{"ast":null,"code":"import _slicedToArray from\"/Users/sakshamgambhir/Downloads/olx-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Link}from\"react-router-dom\";import Logo from\"../../olx-logo.png\";import\"./Signup.css\";import{Firebase}from\"../../firebase/config\";import{useHistory}from\"react-router\";import SignUpLoading from\"../Loading/SignUpLoading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Signup(){var history=useHistory();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),phone=_useState6[0],setPhone=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),loading=_useState10[0],setLoading=_useState10[1];var handleSubmit=function handleSubmit(e){setLoading(true);e.preventDefault();Firebase.auth().createUserWithEmailAndPassword(email,password).then(function(result){result.user.updateProfile({displayName:name}).then(function(){Firebase.firestore().collection(\"users\").doc(result.user.uid).set({id:result.user.uid,name:name,phone:phone});});}).then(function(){history.push(\"/login\");}).catch(function(error){alert(error.message);window.location.reload();});};return/*#__PURE__*/_jsxs(_Fragment,{children:[loading&&/*#__PURE__*/_jsx(SignUpLoading,{}),\" \",/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"signupParentDiv\",children:[/*#__PURE__*/_jsx(\"img\",{width:\"200px\",height:\"200px\",src:Logo,alt:\"\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\"Full Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},name:\"name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},name:\"email\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Phone\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"number\",value:phone,onChange:function onChange(e){return setPhone(e.target.value);},name:\"phone\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{className:\"input\",type:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},name:\"password\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Signup\"})]}),/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})]})})]});}","map":{"version":3,"names":["React","useState","Link","Logo","Firebase","useHistory","SignUpLoading","Signup","history","name","setName","email","setEmail","phone","setPhone","password","setPassword","loading","setLoading","handleSubmit","e","preventDefault","auth","createUserWithEmailAndPassword","then","result","user","updateProfile","displayName","firestore","collection","doc","uid","set","id","push","catch","error","alert","message","window","location","reload","target","value"],"sources":["/Users/sakshamgambhir/Downloads/olx-main/src/Components/Signup/Signup.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Logo from \"../../olx-logo.png\";\nimport \"./Signup.css\";\nimport { Firebase } from \"../../firebase/config\";\nimport { useHistory } from \"react-router\";\nimport SignUpLoading from \"../Loading/SignUpLoading\";\n\nexport default function Signup() {\n  const history = useHistory();\n  let [name, setName] = useState(\"\");\n  let [email, setEmail] = useState(\"\");\n  let [phone, setPhone] = useState(\"\");\n  let [password, setPassword] = useState(\"\");\n  let [loading, setLoading] = useState(false);\n  const handleSubmit = (e) => {\n    setLoading(true);\n    e.preventDefault();\n    Firebase.auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then((result) => {\n        result.user.updateProfile({ displayName: name }).then(() => {\n          Firebase.firestore().collection(\"users\").doc(result.user.uid).set({\n            id: result.user.uid,\n            name: name,\n            phone: phone,\n          });\n        });\n      })\n      .then(() => {\n        history.push(\"/login\");\n      })\n      .catch((error) => {\n        alert(error.message);\n        window.location.reload();\n      });\n  };\n  return (\n    <>\n      {loading && <SignUpLoading />}{\" \"}\n      <div>\n        <div className=\"signupParentDiv\">\n          <img width=\"200px\" height=\"200px\" src={Logo} alt=\"\"></img>\n          <form onSubmit={handleSubmit}>\n            <label>Full Name</label>\n            <br />\n            <input\n              className=\"input\"\n              type=\"text\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              name=\"name\"\n            />\n            <br />\n            <label>Email</label>\n            <br />\n            <input\n              className=\"input\"\n              type=\"email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              name=\"email\"\n            />\n            <br />\n            <label>Phone</label>\n            <br />\n            <input\n              className=\"input\"\n              type=\"number\"\n              value={phone}\n              onChange={(e) => setPhone(e.target.value)}\n              name=\"phone\"\n            />\n            <br />\n            <label>Password</label>\n            <br />\n            <input\n              className=\"input\"\n              type=\"password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              name=\"password\"\n            />\n            <br />\n            <br />\n            <button>Signup</button>\n          </form>\n          <Link to=\"/login\">Login</Link>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}