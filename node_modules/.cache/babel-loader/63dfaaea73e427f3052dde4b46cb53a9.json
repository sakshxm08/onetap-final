{"ast":null,"code":"import _slicedToArray from\"/Users/sakshamgambhir/Downloads/olx-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useContext}from\"react\";import{AllPostContext}from\"..//../contextStore/AllPostContext\";import{PostContext}from\"../../contextStore/PostContext\";import SearchIcon from\"..//../assets/SearchIcon\";import CloseIcon from\"..//../assets/CloseIcon/CloseIcon\";import{useHistory}from\"react-router\";import InputHints from\"react-input-hints\";import\"./search.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Search(){var _useContext=useContext(AllPostContext),allPost=_useContext.allPost,setAllPost=_useContext.setAllPost;var _useContext2=useContext(PostContext),setPostContent=_useContext2.setPostContent;var history=useHistory();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),filteredData=_useState2[0],setFilteredData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),wordEntered=_useState4[0],setWordEntered=_useState4[1];var handleFilter=function handleFilter(event){var searchWord=event.target.value;setWordEntered(searchWord);var newFilter=allPost.filter(function(value){return value.name.toLowerCase().includes(searchWord.toLowerCase())||value.category.toLowerCase().includes(searchWord.toLowerCase());});if(searchWord===\"\"){setFilteredData([]);}else{setFilteredData(newFilter);}};var clearInput=function clearInput(){setFilteredData([]);setWordEntered(\"\");};var handleSelectedSearch=function handleSelectedSearch(item){setPostContent(item);history.push(\"/view\");};var handleSearchClick=function handleSearchClick(){if(filteredData.length===0){alert(\"No items found.., please search by product category or product name\");}else{setAllPost(filteredData);history.push(\"/viewmore\");}};return/*#__PURE__*/_jsxs(\"div\",{className:\"search\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchInputs\",children:[/*#__PURE__*/_jsx(InputHints,{type:\"text\",value:wordEntered,onChange:handleFilter,placeholders:[\"Search Auditoriums\",\"Search Gyms\",\"Search Swimming Pools\",\"Search Cafes\",\"Search Open Grounds\",\"Search Lounges\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"searchIcon\",children:[/*#__PURE__*/_jsxs(\"div\",{onClick:handleSearchClick,children:[\" \",/*#__PURE__*/_jsx(SearchIcon,{}),\" \"]}),filteredData.length!==0&&/*#__PURE__*/_jsx(\"div\",{id:\"clearBtn\",onClick:clearInput,children:/*#__PURE__*/_jsx(CloseIcon,{})})]})]}),filteredData.length!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"dataResult\",children:filteredData.slice(0,15).map(function(value,key){return/*#__PURE__*/_jsx(\"div\",{className:\"dataItem\",onClick:function onClick(){return handleSelectedSearch(value);},children:/*#__PURE__*/_jsxs(\"p\",{children:[value.name,\" \"]})},key);})})]});}export default Search;","map":{"version":3,"names":["React","useState","useContext","AllPostContext","PostContext","SearchIcon","CloseIcon","useHistory","InputHints","Search","allPost","setAllPost","setPostContent","history","filteredData","setFilteredData","wordEntered","setWordEntered","handleFilter","event","searchWord","target","value","newFilter","filter","name","toLowerCase","includes","category","clearInput","handleSelectedSearch","item","push","handleSearchClick","length","alert","slice","map","key"],"sources":["/Users/sakshamgambhir/Downloads/olx-main/src/Components/Search/Search.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { AllPostContext } from \"..//../contextStore/AllPostContext\";\nimport { PostContext } from \"../../contextStore/PostContext\";\nimport SearchIcon from \"..//../assets/SearchIcon\";\nimport CloseIcon from \"..//../assets/CloseIcon/CloseIcon\";\nimport { useHistory } from \"react-router\";\nimport InputHints from \"react-input-hints\";\n\nimport \"./search.css\";\nfunction Search() {\n  const { allPost, setAllPost } = useContext(AllPostContext);\n  const { setPostContent } = useContext(PostContext);\n  const history = useHistory();\n\n  const [filteredData, setFilteredData] = useState([]);\n  const [wordEntered, setWordEntered] = useState(\"\");\n\n  const handleFilter = (event) => {\n    const searchWord = event.target.value;\n    setWordEntered(searchWord);\n    const newFilter = allPost.filter((value) => {\n      return (\n        value.name.toLowerCase().includes(searchWord.toLowerCase()) ||\n        value.category.toLowerCase().includes(searchWord.toLowerCase())\n      );\n    });\n\n    if (searchWord === \"\") {\n      setFilteredData([]);\n    } else {\n      setFilteredData(newFilter);\n    }\n  };\n\n  const clearInput = () => {\n    setFilteredData([]);\n    setWordEntered(\"\");\n  };\n  const handleSelectedSearch = (item) => {\n    setPostContent(item);\n    history.push(\"/view\");\n  };\n  const handleSearchClick = () => {\n    if (filteredData.length === 0) {\n      alert(\n        \"No items found.., please search by product category or product name\"\n      );\n    } else {\n      setAllPost(filteredData);\n      history.push(\"/viewmore\");\n    }\n  };\n\n  return (\n    <div className=\"search\">\n      <div className=\"searchInputs\">\n        <InputHints\n          type=\"text\"\n          value={wordEntered}\n          onChange={handleFilter}\n          placeholders={[\n            \"Search Auditoriums\",\n            \"Search Gyms\",\n            \"Search Swimming Pools\",\n            \"Search Cafes\",\n            \"Search Open Grounds\",\n            \"Search Lounges\",\n          ]}\n        />\n\n        <div className=\"searchIcon\">\n          <div onClick={handleSearchClick}>\n            {\" \"}\n            <SearchIcon />{\" \"}\n          </div>\n          {filteredData.length !== 0 && (\n            <div id=\"clearBtn\" onClick={clearInput}>\n              <CloseIcon />\n            </div>\n          )}\n        </div>\n      </div>\n      {filteredData.length !== 0 && (\n        <div className=\"dataResult\">\n          {filteredData.slice(0, 15).map((value, key) => {\n            return (\n              <div\n                key={key}\n                className=\"dataItem\"\n                onClick={() => handleSelectedSearch(value)}\n              >\n                <p>{value.name} </p>\n              </div>\n            );\n          })}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default Search;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}